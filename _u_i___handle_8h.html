<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>SABT Software: SABT_MainUnit/UI_Handle.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>SABT_MainUnit/UI_Handle.h File Reference</h1>
<p>Handle UI-MCU interactions.  
<a href="#_details">More...</a></p>
<code>#include &lt;stdint.h&gt;</code><br/>
<code>#include &lt;stdbool.h&gt;</code><br/>

<p><a href="_u_i___handle_8h_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a48496cc904030eb039fa6a5ffe0570a0"></a><!-- doxytag: member="UI_Handle.h::UI_CMD_NONE" ref="a48496cc904030eb039fa6a5ffe0570a0" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>UI_CMD_NONE</b>&nbsp;&nbsp;&nbsp;0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa310b41a88eb8169f40431d1965daa37"></a><!-- doxytag: member="UI_Handle.h::UI_CMD_ENT1" ref="aa310b41a88eb8169f40431d1965daa37" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>UI_CMD_ENT1</b>&nbsp;&nbsp;&nbsp;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a369183a6db9fe049f795c458247d5680"></a><!-- doxytag: member="UI_Handle.h::UI_CMD_ENT2" ref="a369183a6db9fe049f795c458247d5680" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>UI_CMD_ENT2</b>&nbsp;&nbsp;&nbsp;2</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad989a753fefe5ee1549309a34e843dfe"></a><!-- doxytag: member="UI_Handle.h::UI_CMD_MFOR" ref="ad989a753fefe5ee1549309a34e843dfe" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>UI_CMD_MFOR</b>&nbsp;&nbsp;&nbsp;3</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a74c02673afcc0b0767b4e28acf43e2a8"></a><!-- doxytag: member="UI_Handle.h::UI_CMD_MREV" ref="a74c02673afcc0b0767b4e28acf43e2a8" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>UI_CMD_MREV</b>&nbsp;&nbsp;&nbsp;4</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a53fd37621ab3724d7f83d73b60745c5e"></a><!-- doxytag: member="UI_Handle.h::UI_CMD_VOLU" ref="a53fd37621ab3724d7f83d73b60745c5e" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>UI_CMD_VOLU</b>&nbsp;&nbsp;&nbsp;5</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac5fb47b09ce2ccb83b6992a2f69fad51"></a><!-- doxytag: member="UI_Handle.h::UI_CMD_VOLD" ref="ac5fb47b09ce2ccb83b6992a2f69fad51" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>UI_CMD_VOLD</b>&nbsp;&nbsp;&nbsp;6</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_i___handle_8h.html#a7625beb2ce43e69177f05f38a981203d">UI_CheckModes</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">reads modes from MODES.DAT file and tells computer how many modes and what they are  <a href="#a7625beb2ce43e69177f05f38a981203d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint16_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_i___handle_8h.html#aa78ec56612e4363379f12855e698acea">UI_calculate_CRC</a> (unsigned char *pstrMsg)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">calculate CRC (cyclic redundancy check)  <a href="#aa78ec56612e4363379f12855e698acea"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_i___handle_8h.html#a8604fa0f28d7c5d61a5e916bc4e40f18">UI_parse_message</a> (bool IsPlaying)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reads a message in USART_UI_RecievedPacket. Then determines what type of message it has recieved. It then interacts with the mode accordingly and sends a message of recieval at the end.  <a href="#a8604fa0f28d7c5d61a5e916bc4e40f18"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_i___handle_8h.html#afb6033f24c1625817ad7ba61b519323d">UI_ControlKeyPressed</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">(?)  <a href="#afb6033f24c1625817ad7ba61b519323d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_i___handle_8h.html#af2730d282135b5bba394db7e63001319">UI_Play_Intro_Currentmode</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">play the MP3 associated with the current mode  <a href="#af2730d282135b5bba394db7e63001319"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_i___handle_8h.html#ae61ed4d60fdf3816d5f2a52d2516a377">UI_CallModeYesAnswer</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">(?)  <a href="#ae61ed4d60fdf3816d5f2a52d2516a377"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_i___handle_8h.html#a90ae015fe52e35a82f20b79e2b6242b9">UI_CallModeNoAnswer</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">(?)  <a href="#a90ae015fe52e35a82f20b79e2b6242b9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_i___handle_8h.html#a652366d793593a4795f252271bc8fc62">UI_InputDotToCurrentMode</a> (char thisDot)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">(?)  <a href="#a652366d793593a4795f252271bc8fc62"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_i___handle_8h.html#abe129d2b5d2a8f037a0a29f4cca8a3fa">UI_InputCellToCurrentMode</a> (char thisCell)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">(?)  <a href="#abe129d2b5d2a8f037a0a29f4cca8a3fa"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_i___handle_8h.html#a7503579f6989d472edc39b7c761a6b99">UI_RunMainOfCurrentMode</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Decides which of the three UI modes to go into based on UI_Current_Mode.  <a href="#a7503579f6989d472edc39b7c761a6b99"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_i___handle_8h.html#af17303114cf03f22200745080951fbb4">UI_ResetTheCurrentMode</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">(?)  <a href="#af17303114cf03f22200745080951fbb4"></a><br/></td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a232af848aaff1548f8ba1be0d1afd315"></a><!-- doxytag: member="UI_Handle.h::UI_MP3_file_Pending" ref="a232af848aaff1548f8ba1be0d1afd315" args="" -->
volatile bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>UI_MP3_file_Pending</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0a54eaadedc2cb40195e15cfec2b1fe2"></a><!-- doxytag: member="UI_Handle.h::UI_MODE_SELECTED" ref="a0a54eaadedc2cb40195e15cfec2b1fe2" args="" -->
volatile bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>UI_MODE_SELECTED</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a943419169caee2139f90cd938134e1d8"></a><!-- doxytag: member="UI_Handle.h::UI_Current_Mode" ref="a943419169caee2139f90cd938134e1d8" args="" -->
volatile char&nbsp;</td><td class="memItemRight" valign="bottom"><b>UI_Current_Mode</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a277c9c8fa12a9bcbe5c3835719b512c8"></a><!-- doxytag: member="UI_Handle.h::UI_Selected_Mode" ref="a277c9c8fa12a9bcbe5c3835719b512c8" args="" -->
volatile char&nbsp;</td><td class="memItemRight" valign="bottom"><b>UI_Selected_Mode</b></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Handle UI-MCU interactions. </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Nick LaGrow (nlagrow) </dd>
<dd>
Alex Etling (petling) </dd>
<dd>
Kory Stiger (kstiger) </dd></dl>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="aa78ec56612e4363379f12855e698acea"></a><!-- doxytag: member="UI_Handle.h::UI_calculate_CRC" ref="aa78ec56612e4363379f12855e698acea" args="(unsigned char *pstrMsg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t UI_calculate_CRC </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>pstrMsg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>calculate CRC (cyclic redundancy check) </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pstrMsg</em>&nbsp;</td><td>message (?) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>CRC value </dd></dl>

</div>
</div>
<a class="anchor" id="a90ae015fe52e35a82f20b79e2b6242b9"></a><!-- doxytag: member="UI_Handle.h::UI_CallModeNoAnswer" ref="a90ae015fe52e35a82f20b79e2b6242b9" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UI_CallModeNoAnswer </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>(?) </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Void </dd></dl>

</div>
</div>
<a class="anchor" id="ae61ed4d60fdf3816d5f2a52d2516a377"></a><!-- doxytag: member="UI_Handle.h::UI_CallModeYesAnswer" ref="ae61ed4d60fdf3816d5f2a52d2516a377" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UI_CallModeYesAnswer </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>(?) </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Void </dd></dl>

</div>
</div>
<a class="anchor" id="a7625beb2ce43e69177f05f38a981203d"></a><!-- doxytag: member="UI_Handle.h::UI_CheckModes" ref="a7625beb2ce43e69177f05f38a981203d" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool UI_CheckModes </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>reads modes from MODES.DAT file and tells computer how many modes and what they are </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>bool - return true on succesful completion of transmission, false on failure </dd></dl>

</div>
</div>
<a class="anchor" id="afb6033f24c1625817ad7ba61b519323d"></a><!-- doxytag: member="UI_Handle.h::UI_ControlKeyPressed" ref="afb6033f24c1625817ad7ba61b519323d" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UI_ControlKeyPressed </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>(?) </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Void </dd></dl>

</div>
</div>
<a class="anchor" id="abe129d2b5d2a8f037a0a29f4cca8a3fa"></a><!-- doxytag: member="UI_Handle.h::UI_InputCellToCurrentMode" ref="abe129d2b5d2a8f037a0a29f4cca8a3fa" args="(char thisCell)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UI_InputCellToCurrentMode </td>
          <td>(</td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>thisCell</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>(?) </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Void </dd></dl>

</div>
</div>
<a class="anchor" id="a652366d793593a4795f252271bc8fc62"></a><!-- doxytag: member="UI_Handle.h::UI_InputDotToCurrentMode" ref="a652366d793593a4795f252271bc8fc62" args="(char thisDot)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UI_InputDotToCurrentMode </td>
          <td>(</td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>thisDot</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>(?) </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Void </dd></dl>

</div>
</div>
<a class="anchor" id="a8604fa0f28d7c5d61a5e916bc4e40f18"></a><!-- doxytag: member="UI_Handle.h::UI_parse_message" ref="a8604fa0f28d7c5d61a5e916bc4e40f18" args="(bool IsPlaying)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool UI_parse_message </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>IsPlaying</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reads a message in USART_UI_RecievedPacket. Then determines what type of message it has recieved. It then interacts with the mode accordingly and sends a message of recieval at the end. </p>
<p>UI string: [U][I][msglen][msg_number][msgtype][payload][CRC1][CRC2] msgtypes: </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>IsPlaying</em>&nbsp;</td><td>- bool determines whether or not an MP3 Files is playing </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>bool - returns true if succesfully parsed, understood, and used message </dd></dl>

</div>
</div>
<a class="anchor" id="af2730d282135b5bba394db7e63001319"></a><!-- doxytag: member="UI_Handle.h::UI_Play_Intro_Currentmode" ref="af2730d282135b5bba394db7e63001319" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UI_Play_Intro_Currentmode </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>play the MP3 associated with the current mode </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Void </dd></dl>

</div>
</div>
<a class="anchor" id="af17303114cf03f22200745080951fbb4"></a><!-- doxytag: member="UI_Handle.h::UI_ResetTheCurrentMode" ref="af17303114cf03f22200745080951fbb4" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UI_ResetTheCurrentMode </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>(?) </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Void </dd></dl>

</div>
</div>
<a class="anchor" id="a7503579f6989d472edc39b7c761a6b99"></a><!-- doxytag: member="UI_Handle.h::UI_RunMainOfCurrentMode" ref="a7503579f6989d472edc39b7c761a6b99" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UI_RunMainOfCurrentMode </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Decides which of the three UI modes to go into based on UI_Current_Mode. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Void </dd></dl>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on 18 Feb 2013 for SABT Software by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
